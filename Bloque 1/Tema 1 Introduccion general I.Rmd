---
title: "Tema 1 Introduccion a R"
author: "Julia Chac√≥n"
date: "14/9/2022"
output: 
  html_document:
    toc: true
    number_sections: true
    toc_depth: 6
    toc_float: 
        collapsed: true
        smooth_scroll: true
---

<style>
p.caption {
  font-size: 0.8em;
}
</style>

```{r, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  message = FALSE,
  warning = FALSE
)
```

# Introduccion a R

## Qu√© es R

 `R` es un lenguaje de programaci√≥n libre y gratuito, especialmente indicado para an√°lisis estad√≠stico y elaboraci√≥n de gr√°ficos. Se trata de una versi√≥n libre de otro programa que se llama S o S-plus, desarrollado por los Laboratorios Bell. Todo el c√≥digo de R est√° disponible como software libre bajo las condiciones de licencia GNU-GPL.

Pod√©is acceder al proyecto R desde un buscador escribiendo  `R project` o visitando directamente su p√°gina http://www.r-project.org

## Instalaci√≥n de R

Instalar `R` es f√°cil, independiente de si usas `Windows`, `Mac` o `Linux`. Basta con ingresar a https://cran.r-project.org/ y seguir las instrucciones de descarga e instalaci√≥n.

Si te resulta complicado (no lo creo), a continuaci√≥n encontrar√°s unas instrucciones generales, paso a paso, para instalar el software en tu ordenador. En primer lugar escribe "download R" en tu buscador. Haz clic a la primera entrada que aparece, donde pone ‚ÄúDownload R-4.0.0 for Windows". El buscador siempre te sugiere la versi√≥n mas actualizada del programa, qu√© es con la que recomendamos que trabajes. Por defecto, te sugiere una version para `Windows`. Si utilizas `Mac` o `Linux`, solamente escribe "download R Mac" (o Linux) en el buscador y sigue los pasos de descarga e instalaci√≥n.

En las im√°genes a continuaci√≥n, ver√©is que sale la versi√≥n R 3.6.2 que no coincide con la versi√≥n que instalar√©is vosotros. Esto se debe a que se han publicado versiones m√°s actualizadas desde que prepar√© este material. Vosotros deb√©is instalar siempre la versi√≥n m√°s actualizada que est√© disponible.

```{r echo=FALSE, out.width='60%', fig.cap= "Figura 1. Descarga de R desde un buscador"}
knitr::include_graphics('./images/Imagen1.png')
```

En la p√°gina que se abre, debes darle a un link que dice "Download R-3.6.3 for Windows". Cuando hagas clic, se descargar√° en tu ordenador un ejecutable que se llama "R-3.6.3-win.exe" (o la versi√≥n de R que ofrezca Cran)

```{r echo=FALSE, out.width='60%', fig.cap= "Figura 2. P√°gina de R project desde la cual se realiza la descarga. Debes hacer clic donde pone Download R se√±alado en amarillo"}
knitr::include_graphics('./images/Imagen2.png')
```

Haz clic en el ejecutable que has descargado para proceder con la instalaci√≥n. 
La instalaci√≥n es muy sencilla, solamente tienes que ir haciendo "clic" en " aceptar" o "siguiente" sin modificar ninguna de las opciones que te da por defecto. Lo primero que te pregunta es que selecciones el idioma. Esta opci√≥n la puedes cambiar al idioma que tu prefieras. El curso se imparte en espa√±ol, pero puedes elegir ingl√©s o el idioma que prefieras para el programa.

```{r echo=FALSE, out.width='50%', fig.cap= "Figura 3. Selecciona el idioma"}
knitr::include_graphics('./images/Imagen3.png')
```

A continuaci√≥n tienes las im√°genes de los cuadros que se ir√°n abriendo, para que te resulte familiar. 

Simplemente haz clic en siguiente:

```{r echo=FALSE, out.width='50%', fig.cap= "Figura 4. Haz clic en siguiente"}
knitr::include_graphics('./images/Imagen4.png')
```

Haz clic en siguiente:

```{r echo=FALSE, out.width='50%', fig.cap= "Figura 5.  Haz clic en siguiente"}
knitr::include_graphics('./images/Imagen5.png')
```

Espera a que se instale el programa en tu sistema:

```{r echo=FALSE, out.width='50%', fig.cap= "Figura 6. Espera a que termine la instalaci√≥n"}
knitr::include_graphics('./images/Imagen6.png')
```

Haz clic en siguiente:

```{r echo=FALSE, out.width='50%', fig.cap= "Figura 7. Haz clic en siguiente"}
knitr::include_graphics('./images/Imagen7.png')
```

Cuando llegues a este cuadro, haz clic en finalizar. Ya tendrias `R` instalado en tu ordenador.

```{r echo=FALSE, out.width='50%', fig.cap= " Figura 8. Haz clic en finalizar"}
knitr::include_graphics('./images/Imagen8.png')
```

## Instalaci√≥n de Rstudio

```{r echo=FALSE, out.width='30%', fig.cap= "Figura 9. Logo de RStudio"}
knitr::include_graphics('./images/Imagen10.png')
```

`RStudio` es una plataforma que ayuda a programar con `R`. Es decir, utiliza `R` como lenguaje de programacion. Podemos utilizar `R` con o sin `RStudio`, pero no podemos utilizar `RStudio` sin `R`. El uso que hagamos de esta herramienta es personal, y cada persona decide si quiere utilizarla o no. Nosotros proponemos el uso de `RStudio`, porque nos resulta una herramienta muy util y facilita el uso de `R` y de sus multiples aplicaciones, por lo que el curso lo vamos a desarrollar utilizando `RStudio`. 

Para instalar `RStudio`, es necesario tener instalado `R`.  La descarga e instalaci√≥n es accesible en `Windows`, `Mac` y `Linux`. El link es https://www.rstudio.com/products/rstudio/download/#download

```{r echo=FALSE, out.width='60%', fig.cap= "Figura 10. Descarga de RStudio"}
knitr::include_graphics('./images/Imagen11.png')
```

## Introducci√≥n al uso de RStudio

Una vez descargados `R` y `RStudio`, basta con que hagas clic simbolo de RStudio para comenzar a trabajar. 

### Partes de RStudio

Una vez abierto RStudio, observaras una pantalla parecida a la de la Figura 11, conformada por cuatro paneles. Los colores de la pantalla en tu caso, seran diferentes. Mas adelante aprenderemos a cambiarlos. Por ahora fijate en los cuatro paneles que aparecen

```{r echo=FALSE, out.width='60%', fig.cap= "Figura 11. Interfaz de RStudio. Esta inferfaz se compone por cuatro paneles"}
knitr::include_graphics('./images/Imagen12.png')
```

#### Consola

En el panel inferior izquierdo de `RStudio` nos encontraoms con la consola. Es la parte principal de `RStudio` y `R` en general. Es el lugar donde escribimos los codigos en lenguaje `R` para dar ordenes al programa. Los codigos tambien pueden llamarse comandos. 

Prueba a escribir tu primer comando en la consola:

```{r Consola, echo=TRUE}
7+3
```

En la consola siempre aparece el simbolo del prompt `>` 
Este simbolo nos indica que podemos escribir una orden o comando, porque el programa esta listo para recibir esa orden

#### C√≥digos o scripts

En el panel superior izquierdo de `RStudio` es donde escribimos los codigos o comandos, en lenguaje `R`, pero esta vez en una especie de cuaderno o bloc de notas para comandos, que podemos guardar para repetir los analisis cuando queramos o compartir nuestros c√≥digos.

Esos archivos se llaman `R Script`. Veremos muchos a lo largo del curso. Para poder abrir nuestro primer `R Script`, tenemos que presionar la pesta√±a con el simbolo de suma que aparece en la parte superior izquierda, y seleccionar `R Script` (Figura 12). Se abrir√° autom√°ticamente un archivo en blanco donde podemos empezar a escribir comandos.

```{r echo=FALSE, out.width='60%', fig.cap= "Figura 12. Ubicaci√≥n de los R Script"}
knitr::include_graphics('./images/Imagen13.png')
```

Otras formas de abrir un nuevo script:

- directamente escribiendo `Crtl + Shift + N`
- en `File > New File > R Script`

En este `R Script`. cada l√≠nea representa un comando. Para que una l√≠nea que escribimos ah√≠ se ejecute debemos presionar `Ctrl + Enter` (En Mac, `Cmd + Enter`). Puedes seleccionar varias l√≠neas a la vez y correrlas juntas presionando `Ctrl + Enter` 

Podemos poner comentarios explicativos en un c√≥digo de R simplemente escriendo el s√≠mbolo del numeral `#` delante del c√≥digo. Todo texto que presente este s√≠mbolo `#` delante, no se ejecuta, y se considera un comentario.

```{r C√≥digos o scripts, echo=TRUE}
7+3  # Esto es un comentario. R s√≥lo correr√° el c√≥digo hasta el s√≠mbolo #
```

Los R Scripts se guardan:

- Presionando `Ctrl + S`
- `File > Save`

#### Environment o sesi√≥n

En la parte superior derecha de la consola hay varias pesta√±as: Environment, History y Connections. La m√°s importante es la pesta√±a Environment, en ella aparecer√°n los "objetos" que vayamos creando a medida que trabajamos. R almacena objetos, con los que luego podemos realizar otras operaciones.

Veamos un ejemplo, aunque m√°s adelante entenderemos lo que son los objetos. Escribe en tu consola lo siguiente:

```{r Environment o sesi√≥n, echo=TRUE}

cosa <- 2 + 3 # podemos almacenar la suma 2 + 3 en forma de un objeto que se llama "cosa"

cosa # si ahora escribes "cosa" en tu consola, aparece directamente el resultado de la suma.

# Puedes comprobar c√≥mo ahora "cosa" es un objeto que queda almacenado en Environment
```

Para asignar un valor a un objeto se utiliza la flecha `<-`
La forma correcta de utilizarlo ser√≠a `nombre_de_lobjeto <- contenido_asignado`

M√°s adelante trabajaremos los objetos, de momento s√≥lo quiero que veas que se almacenan en tu `Environment` y que eso te permite consultarlos m√°s adelante.

Otra pesta√±a interesante es History. Se trata de un historial, donde aparecen todos los comandos que has escrito durante la sesi√≥n de R en la cu√°l est√°s trabajando. Te permite recuperar c√≥digos que has perdido o consultar qu√© has estado haciendo

#### Directorio, Gr√°ficos, Paquetes y Ayuda

En la parte inferior derecha de `RStudio` aparecen varias pesta√±as de nuevo: File, Plots, Packages, Help, Viewer. File es simplemente el directorio de trabajo donde te encuentras trabajando, es decir, la carpeta d√≥nde est√°s trabajando y todos los archivos que en ella se encuentran guardados. 

La pesta√±a Plots es donde aparecer√°n las figuras que hagamos. En Packages aparecen los paquetes descargados. Help es una pesta√±a de consulta o ayuda. No te preocupes, iremos viendo todas las funcionalidades de RStudio a lo largo del curso, de forma intuitiva y natural.

## Instalar y cargar paquetes

Los paquetes de R son colecciones de funciones y datos que guardan alg√∫n tipo de relaci√≥n entre s√≠.

R tiene un sistema que se denomina "base", que contiene funciones b√°sicas para an√°lisis estad√≠stico y visualizaci√≥n. Pero adem√°s de estas funciones b√°sicas podemos extender la funcionalidad de R con los paquetes que hacen trabajos m√°s espec√≠ficos. Por ejemplo, existen paquetes para visualizaci√≥n de datos como ggplot2, para an√°lisis geoespacial, analisis de datos ecologicos, para organizar datos, y para much√≠simas cosas m√°s.

Los paquetes de `R` se encuentran alojados en `CRAN` (https://cran.r-project.org/), donde pasan controles antes de estar disponibles para el uso general.

Existe la opci√≥n de crear tus propios paquetes, cuando tienes colecciones propias de funciones que quieres almacenar y compartir con el resto de la comunidad.

Podemos instalar paquetes de diferentes formas. 

Una es utilizando la funci√≥n `install.packages()`. El nombre del paquete que queremos instalar debe ir entre comillas. Una vez instalado el paquete, la funci√≥n que nos permite cargar esa librer√≠a se llama `library()`. Veamos algunos ejemplos y otras funciones que pueden ser interesantes.

```{r Instalar y cargar paquetes, echo=TRUE, eval=FALSE}

install.packages("vegan") # Para instalar un paquete

library(vegan) # sirve para cargarlo en la sesi√≥n de R en la que estamos trabajando.

(.packages()) # proporciona una lista de los paquetes cargados en este momento

(.packages(all.available=TRUE)) # Devuelve la lista de paquetes disponibles

# Podemos tratar de cargar la librer√≠a tree
library (tree)  # pero este comando no funciona porque no est√° en nuestra lista de paquetes disponibles

install.packages("tree") # Debemos instalar el paquete primero, y despu√©s cargarlo
library(tree)#  ahora s√≠ lo podemos cargar y no da error

remove.packages("vegan") # elimina este paquete 

(.packages(all.available=TRUE)) # Puedes comprobar que ya no aparece en la lista de paquetes disponibles
```

Tambi√©n podemos instalar paquetes utilizando el men√∫ de `RStudio`: Tools > Install packages‚Ä¶

O desde el panel de abajo a la derecha de `RStudio`: Packages/Install. Nos permite ver los paquetes que tenemos actualmente instalados y aquellos que se encuentran cargados.

```{r Instalar y cargar paquetes2, echo=FALSE, out.width='60%', fig.cap= "Figura 14. Lista de paquetes instalados"}
knitr::include_graphics('./images/tt_1_install_packages.png')
```

# Una primera aproximaci√≥n al lenguaje de programaci√≥n

Una vez instalados R y Rstudio, podemos abrir el programa haciendo doble clic sobre el icono de Rstudio. De momento utilizaremos solo la consola. La consola es la herramienta principal del programa, donde nosotros vamos a escribir comandos y ejecutar operaciones.

En la parte de arriba de la consola, al inicio, siempre aparece informacion basica del programa, por ejemplo, la version de R que estamos utilizando.

Al comienzo de la linea de comando siempre aparece este simbolo   `>`

Cuando vemos este simbolo, significa que el programa esta esperando a que escribamos una orden.

Podemos ejecutar una suma:
```{r Introducci√≥n a R: primeros comandos, echo=TRUE}
2+2
```

El s√≠mbolo de numeral `#` es utilizado para hacer comentarios:
```{r Introducci√≥n a R: primeros comandos2, echo=TRUE}
#  3 + 4
```

Como v√©is no ocurre nada.

El uso m√°s sencillo que se le puede dar a R es el de una calculadora. Consideremos las siguientes operaciones:

- Adici√≥n: `+`
- Resta: `-`
- Multiplicaci√≥n: `*`
- Divisi√≥n: `/`
- Exponenciaci√≥n: `^`
- M√≥dulo: `%%`

Los √∫ltimos dos necesitan una breve explicaci√≥n:

- El operador `^` eleva el n√∫mero a la izquierda a la potencia a la derecha `3^2` es 9
- El m√≥dulo (mod) `%%` calcula el residuo de la divisi√≥n del n√∫mero a la izquierda por el n√∫mero a la derecha, por ejemplo 5 mod 3 o `5%%3` es 2.

Ejemplos:

Adiciones y restas:
```{r Introducci√≥n a R: primeros comandos3, echo=TRUE}
2+3+4+5-6
```

Si se presiona Enter antes de tiempo, el programa nos permite terminar la operacion en la siguiente.
```{r Introducci√≥n a R: primeros comandos4, echo=TRUE}
2+3+4+5-
  6

```

Multiplicaci√≥n:
```{r Introducci√≥n a R: primeros comandos5, echo=TRUE}
2*4
```

Divisi√≥n:
```{r Introducci√≥n a R: primeros comandos6, echo=TRUE}
2/4
```

Combinaci√≥n de operaciones:
```{r Introducci√≥n a R: primeros comandos7, echo=TRUE}
2+3*6
```

Utilizando los par√©ntesis se puede indicar el orden de las operaciones:
```{r Introducci√≥n a R: primeros comandos8, echo=TRUE}
(2+3)*6
(2+3)/6
2+3/6
```

Otros: exponencia, logaritmo, ra√≠z cuadrada...
```{r Introducci√≥n a R: primeros comandos9, echo=TRUE}
6^2
log(10)
sqrt(4)
```

# Aprender a cargar y guardar datos.

## Lectura e importaci√≥n de datos

Para poder proceder con un an√°lisis de datos, debemos cargar los datos en `R`. En este tutorial aprenderemos a importar y exportar datos en diferentes formatos. Hemos seleccionado los m√°s comunmente utilizados.

Podemos importar en formato texto o tabulares desde un archivo `.txt` o `.csv` Podemos importar directamente desde Excel, archivos `.xls` o `.xlxs` Tambi√©n existen formatos propios de R, como los `.Rdata` o `.rda` y los serialized `R` objects `.rds`

Durante este tutorial vamos a utilizar de nuevo el conjunto o set de datos `iris`. Este conjunto de datos, como vimos en el video anterior, contiene datos sobre caracter√≠sticas florales de tres especies del g√©nero Iris.

Vamos a cargar el conjunto de datos `iris`, y a explorarlo brevemente antes de continuar. Para cargarlo utilizaremos la funci√≥n `data()`, y lo exploraremos utilizando la funci√≥n `head()` que nos permite visualizar las primeras 6 filas. Tambi√©n vamos a introducir nuevas funciones que nos permitir√°n explorar el conjunto de datos iris: `dim()` `colnames()` y `tail()`

```{r Lectura e importaci√≥n de datos, echo=TRUE, eval= FALSE}
data(iris)# para cargar los datos 
?iris # consulta sobre el data set 
head(iris) # muestra las primeras 6 filas de un data set 
head(iris, n = 10) 
dim(iris) # dimensiones del data set iris 
tail(iris) # muestra las ultimas 6 filas de un data set 
colnames(iris)# la funcion colnames() nos muestra los nombres de las variables de iris 
names(iris) # la funcion names() nos muestra los nombres de las variables de iris
```

## Importar datos desde .csv

`CSV` significa ‚Äúcomma separated data‚Äù. El formato `.csv` es un caso particular de ‚Äútabular data‚Äù o ‚Äútext data‚Äù

Vamos a practicar la siguiente secuencia: (1) EXPORTAR los datos `iris` en formato `.csv` en nuestro directorio de trabajo, (2) ELIMINAR los datos `iris` de nuestra sesi√≥n, (3) volver a IMPORTAR los datos `iris` desde nuestro directorio de trabajo.

Para exportar `iris` a un fichero en formato `CSV` utilizaremos la funci√≥n `write.csv()`. Debemos indicar el objeto que queremos exportar, en este caso ser√° la colecci√≥n de datos `iris`, y el nombre que queremos que tenga el archivo que generamos en nuestro directorio de trabajo.

```{r Importar datos desde .csv, echo=TRUE, eval=FALSE}
write.csv(iris, file = "iris.csv")
```

Cuando trabajamos con proyectos es √∫til tener una carpeta exclusiva para datos, otra para codigo, otra para figuras, que nos faciliten la organizaci√≥n de nuestro trabajo. Por lo que vamos a guardar el `iris.csv` en la carpeta de datos de nuestro proyecto `iris`

```{r Importar datos desde .csv2, echo=TRUE, eval=FALSE}
write.csv(iris, file = "datos/iris.csv")
```

Para importar los datos podemos hacer dos cosas, eliminarlos de la sesi√≥n y luego volverlos a importar. O simplemente importarlos con un nombre diferente. Vamos primero a importarlos con un nombre diferente. La importaci√≥n se realiza con la funci√≥n `read.csv`. Recuerda, que debemos asignar la importaci√≥n a un objeto, para que los datos se queden guardados en la sesi√≥n. Lo llamaremos `iris_import_csv`, y solamente deber√≠amos indicar la ruta donde se encuentran los datos

```{r Importar datos desde .csv3, echo=TRUE, eval=FALSE} 
iris_import_csv <- read.csv("datos/iris.csv")
```

Te propongo como ejercicio que borres los dos objetos, `iris` y `iris_import_csv` de la sesi√≥n, y los importes directamente desde nuestro directorio de trabajo. Te doy una pista, tendr√°s que utilizar la funci√≥n `rm()` que vimos previamente y la funci√≥n `read.csv()`

## Importar datos desde Excell
Importar datos desde Excell es muy parecido a la importaci√≥n de datos desde `.csv`. Las funciones que utilizaremos son `write.xlsx()` para la exportaci√≥n y `read.xlsx()` para la importaci√≥n. Debemos instalar primero el paquete `xlsx`

```{r Importar datos desde Excell, echo=TRUE, eval=FALSE}
install.packages("xlsx") 
library(xlsx) 
write.xlsx(iris, "datos/iris.xlsx")  # acuerdate que los vamos a guardar en la carpeta datos 
iris_import_xlsx <- read.xlsx("datos/iris.xlsx", 1) # debemos indicar la hoja de Excell desde la cual importar los datos
```

##  Formatos propios de R
Existen formatos propios de `R` para guardar datos, sesiones y objetos concretos que hemos generado sin necesidad de recurrir a formatos `.txt`, `.csv`, o a `Excell`. Guardar los datos como objetos de `R` es muy util porque permite guardar la estructura de datos que nosotros generamos en `R` para nuestros an√°lisis. Esa estructura se pierde cuando guardamos en formatos diferentes a los propios de `R`.

Por ejemplo, nosotros definir las columnas de un set de datos en `R` como factor, integer, como character‚Ä¶ al exportarlo esa estructura interna se perder√°. Por eso es importante que una vez que estemos trabajando en los datos, los guardemos en formatos propios de `R`. Podemos reservar los otros formatos para almacenamiento de nuestros datos originales o ‚Äúcrudos‚Äù (del ingl√©s ‚Äúraw‚Äù).

### Rdata
Permite guardar una sesi√≥n completa, o seleccionar determinados objetos dentro de una sesi√≥n.

Podemos guardar toda la sesi√≥n de trabajo con `save.image()`

```{r Rdata, echo=TRUE, eval=FALSE} 
save.image(file="datos/toda_la_sesion.RData")
```

Tambi√©n podemos guardar objetos concretos son `save()` pero tienes que indicar qu√© objetos de tu sesi√≥n quieres que guarde.

```{r Rdata2, echo=TRUE, eval=FALSE} 
save(iris, file="datos/iris_object_only.RData")
```

Tambi√©n puedes cargarlos despu√©s con `load()` (puedes limpiar tu sesi√≥n antes para comprobar que funciona bien)

```{rRdata3, echo=TRUE, eval=FALSE} 
load("datos/iris_object_only.RData")
```

Puedes cargar los datos con `load()` o tambi√©n desde el men√∫ de `RStudio` File > Open File

### RDS

El formato `.rds` nos permite guardar solamente un unico objeto, y la otra diferencia con un `.Rdata` es que no conserva el nombre de los objetos originales. Esto es una ventaja en muchas ocasiones, cuando estamos importando objetos y no queremos que nos limiten los nombres originales que les pusimos.

Para exportar `iris` a formato RDS utilizamos la funci√≥n `write_rds()`. Hay que indicarle un `path`. Tambi√©n debemos instalar el paquete `readr` previamente.

```{r RDS, echo=TRUE, eval=FALSE} 
install.packages("readr")
library(readr)
write_rds(iris, path="datos/iris.rds")
```

Para leer o importar datos `RDS` utilizamos la funci√≥n `readRDS()` y asignarle un nombre al objeto que vayamos a crear:

```{r RDS2, echo=TRUE, eval=FALSE} 
iris_import_rds <- readRDS("datos/iris.rds")
```

# Manejo de directorios

## Qu√© es un directorio

Un directorio de trabajo es simplemente la carpeta o lugar de nuestro ordenador donde se encuentran ubicados los archivos con los que vamos a trabajar en `R`. Es decir, ah√≠ estar√°n ubicados los datos que despu√©s importaremos en nuestra sesi√≥n de R. Tambi√©n es el lugar donde guardaremos nuestros c√≥digos, exportaremos figuras y cualquier otro elemento que exportemos durante la sesi√≥n de trabajo.

## Ubicaci√≥n y cambios de directorio

Para conocer d√≥nde est√° ubicado el directorio de trabajo utilizamos la funci√≥n `getwd()`. Solamente se escribe en la consola y se ejecuta.

```{r Ubicaci√≥n y cambios de directorio, echo=TRUE}
getwd() # consultar d√≥nde se ubica el directorio de trabajo
```

Podemos cambiar el directorio de trabajo de diferentes maneras. 

Con la funci√≥n `setwd()`. Habr√≠a que indicar la ruta donde se localiza el directorio de trabajo.

```{r Ubicaci√≥n y cambios de directorio2, echo=TRUE, eval=FALSE}
setwd("C:\midirectorio") 
```

Tambi√©n podemos indicar el directorio utilizando el men√∫ de `RStudio`: Session > Set Working Directory > Choose Directory 

Otras funciones interesantes son `list.files()` y `list.dir()`. 

La funci√≥n `list.files()`, sin especificar ning√∫n argumento, nos muestra una lista con los nombres de todos los archivos que hay dentro del directorio de trabajo. La funci√≥n `dir()` hace exactamente lo mismo

La funci√≥n `list.dirs()`, sin especificar ning√∫n argumento, nos muestra una lista de los directorios dentro del directorio de trabajo.

```{r Ubicaci√≥n y cambios de directorio3, echo=TRUE}
# Ver archivos
list.files()
dir()
```
# Organizar el trabajo: sesiones, proyectos y m√°s...
## Sesiones
### Qu√© es una sesi√≥n
Cada vez que ejecutamos o abrimos `R` (o `RStudio`) estamos iniciando una sesi√≥n. Todos los objetos y funciones que generemos durante esa sesi√≥n se almacenan en la memoria RAM de nuestro ordenador. Es decir, esos objetos y funciones que creamos permanecen √∫nicamente en nuestra sesi√≥n. 

Cuando cerramos una sesi√≥n, por ejemplo de forma fortuita, los objetos almacenados en esa sesi√≥n se pierden. Para no perderlos debemos guardar la sesi√≥n en un archivo que tiene una extensi√≥n `.Rdata`. Ese archivo quedar√≠a guardado en nuestro directorio de trabajo y disponible para la pr√≥xima sesi√≥n.

### C√≥mo guardar una sesi√≥n

Podemos guardar una sesi√≥n de varias maneras. Por ejemplo, desde el panel de arriba a la derecha, en la pesta√±a `Environment`. En el men√∫ de `Environment`, vemos los objetos que tenemos guardados en la sesi√≥n (no tenemos ninguno todav√≠a, por lo que deber√≠a estar vac√≠o). Podr√≠amos guardar esta sesi√≥n haciendo clic en el s√≠mbolo de guardar y dando un nombre a la sesi√≥n.

Tambi√©n podemos guardar la sesi√≥n con la funci√≥n `save.image()`. Veamos un ejemplo. Primero vamos a cargar una colecci√≥n de datos que est√°n disponibles en `R` con la funci√≥n `data()`. Son los datos `iris`, muy conocidos porque se utilizan como ejemplo en muchos tutoriales de `R`.

```{r C√≥mo guardar una sesi√≥n, echo=TRUE}
data("iris") # cargamos el set de datos iris
```

Vemos que ahora ha aparecido un objeto en la pesta√±a `Environment` que se llama `iris`. Podemos explorar un poco este objeto con la funci√≥n `head()` que nos mostrar√° las primeras 6 filas de ese set de datos y los nombres de las columnas.

```{r C√≥mo guardar una sesi√≥n2, echo=TRUE}
head(iris) # exploremos r√°pidamente el set de datos iris
```

Una funci√≥n muy √∫til para conocer los objetos y funciones que contiene nuestra sesi√≥n es la funci√≥n `ls()`. Nos muestra una lista con los nombres de todos los objetos que he guardado en la sesi√≥n. En este caso, solo tenemos un objeto guardado, el objeto `iris`.

```{r C√≥mo guardar una sesi√≥n3, echo=TRUE}
ls() 
```

Si ahora cerramos nuestra sesi√≥n, perder√≠amos el objeto `iris`. Podemos guardar la sesi√≥n en un archivo con extensi√≥n `.Rdata` en nuestro directorio de trabajo con la funci√≥n `save.image()`. 

```{r C√≥mo guardar una sesi√≥n4, echo=TRUE}
save.image(file="miprimerasesion.RData")
```

Si te fijas ahora en tu directorio de trabajo, en `Files`, ha aparecido un archivo que se llama `miprimerasesion.Rdata`. Ese archivo contiene todos los objetos que has creado durante la sesi√≥n.

### Notas:

Podemos tener tener m√°s de una sesi√≥n de R activa en la misma computadora.

Podemos tener sesiones que compartan un mismo directorio de trabajo

Los objetos y funciones de una sesi√≥n son exclusivos de esa sesi√≥n. No se comparten entre sesiones.

Los c√≥digos se guardan en el directorio de trabajo, no es una sesi√≥n. Si no los guardas de forma separada los perder√°s al cerrar la sesi√≥n.

Se pueden eliminar todos los objetos de una sesi√≥n con la funci√≥n `ls()`
```{r Notas, echo=TRUE}
rm(list=ls())  # elimina todos los objetos de una sesi√≥n
```

## Rprojects o proyectos de R

Los proyectos de R o `Rproject` son una forma elegante y muy pr√°ctica de gestionar tus an√°lisis de datos. Algunas ventajas son que facilitan compartir los an√°lisis y la gesti√≥n de los proyectos de an√°lisis que tengas en marcha. 

Cada `Rproject` tiene su propio directorio de trabajo, su propia sesi√≥n o espacio de trabajo (environment), su historial de an√°lisis. Lo m√°s interesante es que permite crear una estructura de carpetas donde guardar los documentos asociados al proyecto en carpetas separadas (p.ej: una carpeta para datos, otra para figuras, otra para c√≥digos‚Ä¶).

Cuando trabajamos desde un `Rproject` en `RStudio` ocurre que:

- Comienza una nueva sesi√≥n de `R`
- El directorio de trabajo se fija a la carpeta que contiene el `Rproject`.

Siempre que estemos trabajando en un proyecto que requiera una estructura de subcarpetas, merece la pena gestionarlo a trav√©s de un `Rproject`.

# Estrategias de b√∫squeda de ayuda 

En muchas ocasiones necesitaremos ayuda sobre los argumentos o funcionamiento de una funci√≥n concreta, o simplemente porque nos encontramos frente a un error. Lo m√°s com√∫n es llamar a la funci√≥n de ayuda de `R` que es `help()`

La funci√≥n`help()` nos permite pedir ayuda sobre funciones concretas. Ejemplo sobre pedir ayuda de la funci√≥n gen√©rica `plot()`:

```{r Ayuda en R, echo=TRUE}
help(plot)
?plot
```

Tambi√©n podemos buscar ayuda sobre un paquete concreto, ejemplo con el paquete ggplot2:

```{r Ayuda en R2, echo=TRUE, eval=FALSE}
install.packages("ggplot2") # Instalar ggplot2
library(ggplot2)  # Cargar ggplot2
library(help= "ggplot2") # Pedir ayuda sobre el paquete ggplot2
```

Tambien existen las vignettes, que son unos tutoriales especificos que en ocasiones acompa√±an a los paquetes. 

```{r Ayuda en R3, echo=TRUE, eval=FALSE}
vignette() # Proporciona una lista de vignettes a las que podemos acceder
vignette(package="ggplot2") # Proporciona una lista de vignettes a las que podemos acceder para ggplot2
vignette("ggplot2-specs", package="ggplot2") # acceso a una vignette concreta de ggplot2
```

Y por supuesto, existen infinidad de recursos en internet. En el siguiente apartado te proponemos muchas webs y comunidades de ayuda.


## Otros recursos y comunidades de ayuda

### P√°ginas generales

[Libro de recetas](http://www.cookbook-r.com/)

[R pubs](http://rpubs.com/)

[R bloggers](https://www.r-bloggers.com/)

[R for stats](http://r4stats.com/)

[Data camp](https://www.datacamp.com/)

[R open science](https://ropensci.org/)

[Revolution analytics](https://blog.revolutionanalytics.com/)

### Libros online y f√≠sicos

[Modelos estad√≠sticos de Ben Bolker](https://ms.mcmaster.ca/~bolker/emdbook/)

[Programaci√≥n eficiente](https://csgillespie.github.io/efficientR/introduction.html)

[R for data science de Hadley Wickham](https://r4ds.had.co.nz/)

[R avanzado de Hadley Wickham](https://adv-r.hadley.nz/)

[ggplot](https://www.springer.com/us/book/9780387981413)

[Gram√°tica de gr√°ficos](https://www.amazon.es/dp/B00HWUVHXK/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)

[Libro de recetas](shop.oreilly.com/product/0636920023135.do)

[The R book](https://www.cs.upc.edu/~robert/teaching/estadistica/TheRBook.pdf)

[RMarkdown](https://bookdown.org/yihui/rmarkdown/)

[Tablas con RMarkdown y KableExtra](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html#installation)

[Citas bibliogr√°ficas con RMarkdown](http://vivaelsoftwarelibre.com/insertar-referencias-bibliograficas-en-r-markdown/)

[R para ec√≥logos](https://www.springer.com/us/book/9780387898810)

### Ayuda general

[R podcast](https://r-podcast.org/)

[Repositorio de chuletas](https://www.rstudio.com/resources/cheatsheets/)

### Visualizacion de datos

[P√°gina oficial de ggplot](https://ggplot2.tidyverse.org/)

[Galer√≠a de gr√°ficos](https://www.r-graph-gallery.com/)

[Recetas/parte de gr√°ficas](http://www.cookbook-r.com/Graphs/)

### Estad√≠stica b√°sica

[Estad√≠stica b√°sica](https://www.statmethods.net/stats/index.html)

[Tutoriales de introducci√≥n](http://www.r-tutor.com/elementary-statistics)

[R4stats](http://r4stats.com/)

[Estad√≠stica avanzada](http://www.sthda.com/english/wiki/r-basic-statistics)


### Gen√©tica

[Bioconductor](https://www.bioconductor.org/)

[Gen√©tica de poblaciones](https://popgen.nescent.org/)

### Ecolog√≠a

[Vegan](https://rdrr.io/rforge/vegan/man/vegan-package.html)

[ADE4](http://pbil.univ-lyon1.fr/ade4/home.php?lang=eng)


### Cuentas populares de Twitter

<blockquote class="twitter-tweet" data-lang="es"><p lang="es" dir="ltr">&quot;R cambi√≥ mi opini√≥n sobre el g√©nero humano al observar cu√°ntas personas est√°n realmente dispuestas a participar en actividades colectivas, buscando algo que trasciende a sus propios intereses. Se realizan muchas actividades sin que haya un reconocimiento individual.&quot;<br>Ross Ihaka <a href="https://t.co/lx0vUCXdHW">pic.twitter.com/lx0vUCXdHW</a></p>&mdash; Rosana Ferrero (@RosanaFerrero) <a href="https://twitter.com/RosanaFerrero/status/1057212329270673408?ref_src=twsrc%5Etfw">30 de octubre de 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<blockquote class="twitter-tweet" data-lang="es"><p lang="es" dir="ltr">¬øC√≥mo ser un usuario de <a href="https://twitter.com/hashtag/R?src=hash&amp;ref_src=twsrc%5Etfw">#R</a> resiliente? <br>Interesante presentaci√≥n provista por <a href="https://twitter.com/ma_salmon?ref_src=twsrc%5Etfw">@ma_salmon</a> con tips que nos ayudar√°n a no desistir en el proceso de aprendizaje de este lenguaje. Al final siempre vendr√°n grandes recompensas.<a href="https://t.co/ilsYcx2Y0K">https://t.co/ilsYcx2Y0K</a><a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> <a href="https://twitter.com/hashtag/DataScience?src=hash&amp;ref_src=twsrc%5Etfw">#DataScience</a> <a href="https://twitter.com/hashtag/dataviz?src=hash&amp;ref_src=twsrc%5Etfw">#dataviz</a> <a href="https://t.co/HlZm2MyAFo">pic.twitter.com/HlZm2MyAFo</a></p>&mdash; tipsder (@tipsder) <a href="https://twitter.com/tipsder/status/1058367762060505089?ref_src=twsrc%5Etfw">2 de noviembre de 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<blockquote class="twitter-tweet" data-lang="es"><p lang="en" dir="ltr">Does including emoji in your RMarkdown make you go üò¶üò´üò±? Struggle no more: <a href="https://t.co/wgCTnsgVAn">https://t.co/wgCTnsgVAn</a> emo::ji(&quot;celebrate&quot;) üéâ <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a></p>&mdash; Hadley Wickham (@hadleywickham) <a href="https://twitter.com/hadleywickham/status/856938704748896258?ref_src=twsrc%5Etfw">25 de abril de 2017</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<blockquote class="twitter-tweet" data-lang="es"><p lang="en" dir="ltr">Just published: Reproducible science - what, why, how <a href="https://t.co/AuFeMPK1bw">https://t.co/AuFeMPK1bw</a> <a href="https://twitter.com/hashtag/reproducibility?src=hash&amp;ref_src=twsrc%5Etfw">#reproducibility</a> <a href="https://t.co/dAXShbilBJ">pic.twitter.com/dAXShbilBJ</a></p>&mdash; F Rodriguez-Sanchez (@frod_san) <a href="https://twitter.com/frod_san/status/768041676497620992?ref_src=twsrc%5Etfw">23 de agosto de 2016</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<blockquote class="twitter-tweet" data-lang="es"><p lang="en" dir="ltr">Like super specific <a href="https://twitter.com/hashtag/NBA?src=hash&amp;ref_src=twsrc%5Etfw">#NBA</a> stats? Like getting data right in <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a>? üèÄ<a href="https://twitter.com/abresler?ref_src=twsrc%5Etfw">@abresler</a>&#39;s made like a whole BUNCH of your [hoop] dreams come true‚Ä¶<br>üì¶ &quot;nbastatR: R&#39;s interface to NBA data&quot; <a href="https://t.co/UMaLbh24B6">https://t.co/UMaLbh24B6</a> (seriously, you don&#39;t even have to assign names!! üòµ) <a href="https://t.co/5V8ZQdAdjO">pic.twitter.com/5V8ZQdAdjO</a></p>&mdash; Mara Averick (@dataandme) <a href="https://twitter.com/dataandme/status/1058740421877288962?ref_src=twsrc%5Etfw">3 de noviembre de 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<blockquote class="twitter-tweet" data-lang="es"><p lang="en" dir="ltr">First module of SQL basics at <a href="https://twitter.com/udacity?ref_src=twsrc%5Etfw">@udacity</a> completed. It‚Äôs a relief to have learnt R and Java before. I‚Äôm advancing very quickly!</p>&mdash; Pablo Herrera (@pherreraariza) <a href="https://twitter.com/pherreraariza/status/1055774343765127168?ref_src=twsrc%5Etfw">26 de octubre de 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

